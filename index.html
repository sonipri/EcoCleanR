<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Enhancing Data Quality of Biogeographic Ranges with Application for Marine Invertebrates • EcoCleanR</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Enhancing Data Quality of Biogeographic Ranges with Application for Marine Invertebrates">
<meta name="description" content="Provides step-by-step automation for integrating biodiversity data from multiple online aggregators, merging and cleaning datasets while addressing challenges such as taxonomic inconsistencies, georeferencing issues, and spatial or environmental outliers. Includes functions to extract environmental data and to define the biogeographic ranges in which species are most likely to occur. For methodological details see the associated publication.&lt;doi: 10.1002/ecog.08203&gt;.">
<meta property="og:description" content="Provides step-by-step automation for integrating biodiversity data from multiple online aggregators, merging and cleaning datasets while addressing challenges such as taxonomic inconsistencies, georeferencing issues, and spatial or environmental outliers. Includes functions to extract environmental data and to define the biogeographic ranges in which species are most likely to occur. For methodological details see the associated publication.&lt;doi: 10.1002/ecog.08203&gt;.">
<meta property="og:image" content="https://sonipri.github.io/EcoCleanR/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">EcoCleanR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/cite_data.html">cite_data</a></li>
    <li><a class="dropdown-item" href="articles/data_cleaning.html">EcoCleanR: Overview on Steps for Data cleaning and defining Biogeographic ranges</a></li>
    <li><a class="dropdown-item" href="articles/data_merging.html">EcoCleanR: Overview on Steps for Data merging from online bioiversity resources</a></li>
    <li><a class="dropdown-item" href="articles/stepbystep.html">stepbystep</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sonipri/EcoCleanR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="ecocleanr-102">EcoCleanR 1.0.2<a class="anchor" aria-label="anchor" href="#ecocleanr-102"></a>
</h1>
</div>
<p><strong>The goal of EcoCleanR is to provides functions to integrate biodiversity data from multiple aggregates and offers a step-by-step framework for data cleaning, outlier detection, and the generation of species biogeographic ranges. It also supports the extraction of relevant environmental information to assist in ecological and conservation analyses.</strong></p>
<p>Key features:<br></p>
<ol style="list-style-type: decimal">
<li>Data Merging: Merge data from GBIF (with <em>rgbif</em>), iDigBio (with <em>ridigbio</em>), OBIS (with <em>robis</em>) and local input data file (e.g. used csv file downloaded from InvertEBase database). <br>
</li>
<li>Data Cleaning: <br> 2.1. Remove duplicates<br> 2.2. Check bad taxon using WoRMs<br> 2.3. Improve the coordinate information utilizing external georeference tools<br> 2.4. check the coordinate precision and rounding<br> 2.5. Flag the records associated with the wrong ocean/sea and inland<br> 2.6. Extract the environmental variables<br> 2.7. Impute the environmental variables if no assignment from online resources<br> 2.8. Identifying outliers<br>
</li>
<li>Data visualization: <br> 3.1. Create map view<br> 3.2. Execute a summary table with max, min and mean limits of variables<br> 3.3. Create a summary and plot to represent suitable range of a species for spatial and non spatial attributes<br>
</li>
</ol>
<div class="section level2">
<h2 id="installation-from-cran-stable-version-or-github-development-version">Installation from CRAN (stable version) or GitHub (development version)<a class="anchor" aria-label="anchor" href="#installation-from-cran-stable-version-or-github-development-version"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>  <span class="fu">install.package</span>(<span class="st">"EcoCleanR"</span>)<span class="co">#cran version</span></span></code></pre></div>
<p>Install the development version of <em>EcoCleanR</em> from <a href="https://github.com/sonipri/EcoCleanR" class="external-link">GitHub</a>:</p>
<p>How to install package from github or through zip file downloaded from github:<br></p>
<ol style="list-style-type: decimal">
<li>
<p>Install <em>devtools</em> and <em>remotes</em> packages and load them.<br></p>
<p>#install.packages(“devtools”)<br> #install.packages(“remotes”)<br> #library(devtools)<br> #library(remotes)<br></p>
</li>
<li>
<p>Install <em>EcoCleanR</em> package from [github] development version</p>
<p>#remotes::install_github(“sonipri/EcoCleanR”)</p>
</li>
</ol>
<p>or install <em>EcoCleanR</em> package from downloaded zip file.<br></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>  <span class="co">#devtools::install_local("EcoCleanR.zip",</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>  dependencies <span class="ot">=</span> <span class="cn">TRUE</span><span class="er">)</span>                   </span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>
<p>unzip the zip file EcoCleanR and set it as working directory.<br></p>
<p>#setwd(…path)</p>
</li>
<li>
<p><em>Optional: Only for testing purposes</em>. <br></p>
<p>#devtools::check()</p>
</li>
<li>
<p>see data merging steps vignette: [<code>data_merging</code>]<br></p>
<p>see data cleaning steps on merged dataset at vignette: [<code>data_cleaning</code>]<br></p>
</li>
</ol>
<p><strong>Recommanded</strong> :see the Step-by-Step Workflow for complete process — from data downloading, processing, merging, cleaning, and visualization at vignettes/article/stepbystep.rmd.</p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is a basic example to demonstrate data processing, merging and cleanings steps for a species name “Mexacanthina lugubris”</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/sonipri/EcoCleanR" class="external-link">EcoCleanR</a></span><span class="op">)</span></span>
<span><span class="co">## basic example code</span></span>
<span><span class="co"># After execution of step 1 and 2.1, output file called "ecodata"</span></span>
<span><span class="co"># This dataset contains ~1100 occurrence records for the species Mexacanthina lugubris. It was compiled by merging data from multiple online repositories — GBIF, OBIS, iDigBio and local file (InvertEbase) — consider as step 1 (Vignette: data_merging). Duplicate records were removed to retain only unique occurrences (2.1) using function "ec_rm_duplicate".</span></span>
<span><span class="co"># The algorithm for these steps can be found on article folder - documentation</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ecodata</span><span class="op">)</span></span>
<span><span class="co">#&gt;   X basisOfRecord occurrenceStatus institutionCode</span></span>
<span><span class="co">#&gt; 1 1        modern          PRESENT     iNaturalist</span></span>
<span><span class="co">#&gt; 2 2        modern          PRESENT             CAS</span></span>
<span><span class="co">#&gt; 3 3        modern          PRESENT     iNaturalist</span></span>
<span><span class="co">#&gt; 4 4        modern          PRESENT             CAS</span></span>
<span><span class="co">#&gt; 5 5        modern          PRESENT     iNaturalist</span></span>
<span><span class="co">#&gt; 6 6        modern          PRESENT              LI</span></span>
<span><span class="co">#&gt;                         verbatimEventDate</span></span>
<span><span class="co">#&gt; 1 Tue Nov 02 2021 12:32:42 GMT-0700 (PDT)</span></span>
<span><span class="co">#&gt; 2                                2-Jan-75</span></span>
<span><span class="co">#&gt; 3 Sat Nov 13 2021 14:00:19 GMT-0800 (PST)</span></span>
<span><span class="co">#&gt; 4                                1-Jan-75</span></span>
<span><span class="co">#&gt; 5                  2021/03/19 3:34 PM CDT</span></span>
<span><span class="co">#&gt; 6                                    &lt;NA&gt;</span></span>
<span><span class="co">#&gt;                                scientificName individualCount organismQuantity</span></span>
<span><span class="co">#&gt; 1 Mexacanthina lugubris (G.B.Sowerby I, 1822)              NA               NA</span></span>
<span><span class="co">#&gt; 2 Mexacanthina lugubris (G.B.Sowerby I, 1822)              NA               NA</span></span>
<span><span class="co">#&gt; 3 Mexacanthina lugubris (G.B.Sowerby I, 1822)              NA               NA</span></span>
<span><span class="co">#&gt; 4 Mexacanthina lugubris (G.B.Sowerby I, 1822)              NA               NA</span></span>
<span><span class="co">#&gt; 5 Mexacanthina lugubris (G.B.Sowerby I, 1822)              NA               NA</span></span>
<span><span class="co">#&gt; 6       Acanthina tyrianthina S.S.Berry, 1957              NA               NA</span></span>
<span><span class="co">#&gt;   abundance decimalLatitude decimalLongitude coordinateUncertaintyInMeters</span></span>
<span><span class="co">#&gt; 1        NA        33.51358        -117.7583                            65</span></span>
<span><span class="co">#&gt; 2        NA              NA               NA                            NA</span></span>
<span><span class="co">#&gt; 3        NA        32.81539        -117.2741                            83</span></span>
<span><span class="co">#&gt; 4        NA              NA               NA                            NA</span></span>
<span><span class="co">#&gt; 5        NA        32.67190        -117.2455                            12</span></span>
<span><span class="co">#&gt; 6        NA              NA               NA                            NA</span></span>
<span><span class="co">#&gt;                                                                                   locality</span></span>
<span><span class="co">#&gt; 1                                                                                     &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2    Pacific Ocean, Guadalupe Island [Isla Guadalupe], Old Sealer's Cove, intertidal pools</span></span>
<span><span class="co">#&gt; 3                                                                                     &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4 Pacific Ocean, Guadalupe Island [Isla Guadalupe], Old Sealer's Cove, bare rocks, exposed</span></span>
<span><span class="co">#&gt; 5                                                                                     &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 6                                                     La Bujadera, Baja California, Mexico</span></span>
<span><span class="co">#&gt;                            verbatimLocality municipality county stateProvince</span></span>
<span><span class="co">#&gt; 1 North Pacific Ocean, Laguna Beach, CA, US           NA   &lt;NA&gt;    California</span></span>
<span><span class="co">#&gt; 2                                      &lt;NA&gt;           NA   &lt;NA&gt;          &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3               North Pacific Ocean, CA, US           NA   &lt;NA&gt;    California</span></span>
<span><span class="co">#&gt; 4                                      &lt;NA&gt;           NA   &lt;NA&gt;          &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5                        San Diego, CA, USA           NA   &lt;NA&gt;    California</span></span>
<span><span class="co">#&gt; 6                                      &lt;NA&gt;           NA   &lt;NA&gt;          &lt;NA&gt;</span></span>
<span><span class="co">#&gt;                    country cleaned_catalog</span></span>
<span><span class="co">#&gt; 1 United States of America       100088422</span></span>
<span><span class="co">#&gt; 2                   Mexico            1001</span></span>
<span><span class="co">#&gt; 3 United States of America       101101719</span></span>
<span><span class="co">#&gt; 4                   Mexico            1016</span></span>
<span><span class="co">#&gt; 5 United States of America       101984642</span></span>
<span><span class="co">#&gt; 6 United States of America       102083202</span></span>
<span></span>
<span><span class="co"># visualizing the raw data</span></span>
<span><span class="fu"><a href="reference/ec_geographic_map.html">ec_geographic_map</a></span><span class="op">(</span><span class="va">ecodata</span>,</span>
<span>  latitude <span class="op">=</span> <span class="st">"decimalLatitude"</span>,</span>
<span>  longitude <span class="op">=</span> <span class="st">"decimalLongitude"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Removed 358 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">#&gt; (`geom_point()`).</span></span></code></pre></div>
<p><img src="reference/figures/README-example-1.png" alt="" width="70%"></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># lets execute cleaning steps</span></span>
<span><span class="co"># step 2.2 - check taxon error for species name - "Mexacanthina lugubris"</span></span>
<span><span class="va">comparison</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ec_worms_synonym.html">ec_worms_synonym</a></span><span class="op">(</span></span>
<span>  <span class="st">"Mexacanthina lugubris"</span>,</span>
<span>  <span class="va">ecodata</span>,</span>
<span>  scientificName <span class="op">=</span> <span class="st">"scientificName"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; ══  1 queries  ═══════════════</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Retrieving data for taxon 'Mexacanthina lugubris'</span></span>
<span><span class="co">#&gt; ✔  Found:  Mexacanthina lugubris</span></span>
<span><span class="co">#&gt; ══  Results  ═════════════════</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; • Total: 1 </span></span>
<span><span class="co">#&gt; • Found: 1 </span></span>
<span><span class="co">#&gt; • Not Found: 0</span></span>
<span><span class="co"># step 2.3 - check records with locality but no coordinate assignments</span></span>
<span><span class="va">ecodata</span><span class="op">$</span><span class="va">flag_with_locality</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ec_flag_with_locality.html">ec_flag_with_locality</a></span><span class="op">(</span></span>
<span>  <span class="va">ecodata</span>,</span>
<span>  uncertainty <span class="op">=</span> <span class="st">"coordinateUncertaintyInMeters"</span>,</span>
<span>  locality <span class="op">=</span> <span class="st">"locality"</span>,</span>
<span>  verbatimLocality <span class="op">=</span> <span class="st">"verbatimLocality"</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># upload back the corrected file with csv upload - name it as ecodata_corrected</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ecodata_corrected</span><span class="op">)</span></span>
<span><span class="co">#&gt;   cleaned_catalog corrected_latitude corrected_longitude corrected_uncertainty</span></span>
<span><span class="co">#&gt; 1            1001           29.03741           -118.3182                 19180</span></span>
<span><span class="co">#&gt; 2            1016           29.03741           -118.3182                 19180</span></span>
<span><span class="co">#&gt; 3       102443960           32.72160           -117.2112                 23582</span></span>
<span><span class="co">#&gt; 4       104087711           32.66767           -117.2452                  1771</span></span>
<span><span class="co">#&gt; 5       104911613           32.72160           -117.2112                 23284</span></span>
<span><span class="co">#&gt; 6       105885508           32.83330           -117.2667                  2962</span></span>
<span><span class="va">ecodata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ec_merge_corrected_coordinates.html">ec_merge_corrected_coordinates</a></span><span class="op">(</span></span>
<span>  <span class="va">ecodata_corrected</span>,</span>
<span>  <span class="va">ecodata</span>,</span>
<span>  latitude <span class="op">=</span> <span class="st">"decimalLatitude"</span>,</span>
<span>  longitude <span class="op">=</span> <span class="st">"decimalLongitude"</span>,</span>
<span>  uncertainty_col <span class="op">=</span> <span class="st">"coordinateUncertaintyInMeters"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">ecodata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ec_filter_by_uncertainty.html">ec_filter_by_uncertainty</a></span><span class="op">(</span></span>
<span>  <span class="va">ecodata</span>,</span>
<span>  uncertainty_col <span class="op">=</span> <span class="st">"coordinateUncertaintyInMeters"</span>,</span>
<span>  percentile <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  ask <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  latitude <span class="op">=</span> <span class="st">"decimalLatitude"</span>,</span>
<span>  longitude <span class="op">=</span> <span class="st">"decimalLongitude"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Suggested threshold at 95th percentile: 24015.45</span></span>
<span><span class="co">#&gt; Do you want to apply this threshold? (y/n):</span></span>
<span><span class="co">#&gt; No filtering applied.</span></span>
<span></span>
<span><span class="co"># step 2.4 - check records with bad precision &lt;2 as well as rounding issue</span></span>
<span><span class="va">ecodata</span><span class="op">$</span><span class="va">flag_precision</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ec_flag_precision.html">ec_flag_precision</a></span><span class="op">(</span></span>
<span>  <span class="va">ecodata</span>,</span>
<span>  latitude <span class="op">=</span> <span class="st">"decimalLatitude"</span>,</span>
<span>  longitude <span class="op">=</span> <span class="st">"decimalLongitude"</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># step 2.5 - check records with wrong assignment of ocean/sea and inland with certain buffer range - not executing on run</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ecodata</span><span class="op">$</span><span class="va">flag_non_region</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ec_flag_non_region.html">ec_flag_non_region</a></span><span class="op">(</span></span>
<span>    <span class="st">"east"</span>,</span>
<span>    <span class="st">"pacific"</span>,</span>
<span>    buffer <span class="op">=</span> <span class="fl">25000</span>,</span>
<span>    <span class="va">ecodata</span>,</span>
<span>    latitude <span class="op">=</span> <span class="st">"decimalLatitude"</span>,</span>
<span>    longitude <span class="op">=</span> <span class="st">"decimalLongitude"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co"># step 2.6 - extract the environmental variables, here we are using a data table which has unique combination of coordinates - we call it ecodata_x - not executing on run</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">env_layers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BO_sstmean"</span>, <span class="st">"BO_sstmax"</span>, <span class="st">"BO_sstmin"</span><span class="op">)</span></span>
<span>  <span class="va">ecodata_x</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ec_extract_env_layers.html">ec_extract_env_layers</a></span><span class="op">(</span><span class="va">ecodata_x</span>,</span>
<span>    env_layers <span class="op">=</span> <span class="va">env_layers</span>,</span>
<span>    latitude <span class="op">=</span> <span class="st">"decimalLatitude"</span>,</span>
<span>    longitude <span class="op">=</span> <span class="st">"decimalLongitude"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co"># step 2.7 - impute the environmental variables for those coordinates with no assignment on online data sources.</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ecodata_x</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ec_impute_env_values.html">ec_impute_env_values</a></span><span class="op">(</span><span class="va">ecodata_x</span>, <span class="va">radius_km</span>, <span class="va">iter</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co"># step 2.8 - calculate outlier probability for each data points.</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ecodata_x</span><span class="op">$</span><span class="va">flag_outliers</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="reference/ec_flag_outlier.html">ec_flag_outlier</a></span><span class="op">(</span></span>
<span>      <span class="va">ecodata_x</span>,</span>
<span>      latitude <span class="op">=</span> <span class="st">"decimalLatitude"</span>,</span>
<span>      longitude <span class="op">=</span> <span class="st">"decimalLongitude"</span>,</span>
<span>      <span class="va">env_layers</span>,</span>
<span>      itr <span class="op">=</span> <span class="fl">100</span>,</span>
<span>      k <span class="op">=</span> <span class="fl">3</span>,</span>
<span>      geo_quantile <span class="op">=</span> <span class="fl">0.99</span>,</span>
<span>      maha_quantile <span class="op">=</span> <span class="fl">0.99</span></span>
<span>  <span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">ouliers</span></span>
<span><span class="op">}</span></span>
<span><span class="co"># step 3.1 - visualize the map with outlier probability index, bind the ecodata_x with ecodata with updated column flag_outlier</span></span>
<span><span class="fu"><a href="reference/ec_geographic_map_w_flag.html">ec_geographic_map_w_flag</a></span><span class="op">(</span></span>
<span>  <span class="va">ecodata_with_outliers</span>,</span>
<span>  flag_column <span class="op">=</span> <span class="st">"outliers"</span>,</span>
<span>  latitude <span class="op">=</span> <span class="st">"decimalLatitude"</span>,</span>
<span>  longitude <span class="op">=</span> <span class="st">"decimalLongitude"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Ignoring unknown labels:</span></span>
<span><span class="co">#&gt; • colour : "Flag"</span></span></code></pre></div>
<p><img src="reference/figures/README-example-2.png" alt="" width="70%"></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># at this stage we can decide the acceptable outlier probability and after removing higher probable a new datafram called ecodata_cleaned can be source of summary table (next step)</span></span>
<span><span class="co"># step 3.2 - Visualize the summary table</span></span>
<span><span class="va">env_layers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BO_sstmean"</span>, <span class="st">"BO_sstmax"</span>, <span class="st">"BO_sstmin"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"ecodata_cleaned"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/ec_geographic_map.html">ec_geographic_map</a></span><span class="op">(</span><span class="va">ecodata_cleaned</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-example-3.png" alt="" width="70%"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">summary_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ec_var_summary.html">ec_var_summary</a></span><span class="op">(</span></span>
<span>  <span class="va">ecodata_cleaned</span>,</span>
<span>  latitude <span class="op">=</span> <span class="st">"decimalLatitude"</span>,</span>
<span>  longitude <span class="op">=</span> <span class="st">"decimalLongitude"</span>,</span>
<span>  <span class="va">env_layers</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">summary_table</span><span class="op">)</span></span>
<span><span class="co">#&gt;           variable     Max     Min    Mean</span></span>
<span><span class="co">#&gt; 1  decimalLatitude   34.04   22.92   31.73</span></span>
<span><span class="co">#&gt; 2 decimalLongitude -106.10 -118.94 -116.58</span></span>
<span><span class="co">#&gt; 3       BO_sstmean   29.04   16.15   17.97</span></span>
<span><span class="co">#&gt; 4        BO_sstmax   32.68   18.79   22.47</span></span>
<span><span class="co">#&gt; 5        BO_sstmin   24.96   11.42   14.41</span></span>
<span><span class="co"># step 3.3 - Plot to visual the acceptable limit of a species which demonstrate a suitable habitat range:</span></span>
<span><span class="fu"><a href="reference/ec_plot_var_range.html">ec_plot_var_range</a></span><span class="op">(</span></span>
<span>  <span class="va">ecodata_with_outliers</span>,</span>
<span>  <span class="va">summary_table</span>,</span>
<span>  latitude <span class="op">=</span> <span class="st">"decimalLatitude"</span>,</span>
<span>  longitude <span class="op">=</span> <span class="st">"decimalLongitude"</span>,</span>
<span>  <span class="va">env_layers</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-example-4.png" alt="" width="70%"></p>
<p>Further documents:<br></p>
<p>*see data merging vignette: [<code>data_merging</code>]<br></p>
<p>*see data cleaning steps on merged dataset at vignette: [<code>data_cleaning</code>]<br></p>
<p>*see the Step-by-Step Workflow vignette for a detailed explanation of the complete process — from data downloading to merging, cleaning, and visualization at vignettes/article/stepbystep.rmd.<br></p>
<p>*see citation guidelines for the downloaded data from gbif, obis, idigbio and InvertEbase [cite_data] at vignettes/article/cite_data.rmd.</p>
<div class="section level3">
<h3 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h3>
<ul>
<li>I thank reviewers, editors, and colleagues who provided valuable feedback on the design and development of this package. Their suggestions and discussions helped improve functionality and usability.</li>
</ul>
</div>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=EcoCleanR" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/sonipri/EcoCleanR/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing EcoCleanR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Priyanka Soni <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-8358-1645" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://sonipri.github.io/EcoCleanR/"><img src="reference/figures/logo.png" align="right" height="138" alt="EcoCleanR website"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Priyanka Soni.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
